@{
    Layout = null;
    ViewBag.Title = "Chat";
}

<head>
    <title>Chat</title>


    <script src="~/Scripts/jquery-2.1.1.min.js"></script>
    <script src="~/Scripts/jquery-ui-1.10.4.min.js"></script>
    <link href="~/Content/themes/base/jquery-ui.css" rel="stylesheet" />

    <!--Reference the SignalR library. -->
    <script src="~/Scripts/jquery.signalR-2.1.0.min.js"></script>
    <!--Reference the autogenerated SignalR hub script. -->
    <script src="~/signalr/hubs"></script>
    <script src="~/Scripts/angular.min.js"></script>

    <style>
        .noclose .ui-dialog-titlebar-close {
            display: none;
        }

        ul {
            padding: 0;
            list-style-type: none;
        }

        .wordwrap {
            word-wrap: break-word; /* IE */
        }
    </style>
</head>


<body style="font-style:italic;font-family:Verdana;">
    <div style="padding:5px; background-color:pink; border-style:hidden;border-radius:20px;width:900px;height:600px; margin:0 auto">

        <h2 id="headerconn">Chat</h2>
        <div data-ng-app="moduleApp129" data-ng-controller="UserController" class="container">
            <input type="hidden" id="displayname" />
            <table>
                <tr>
                    <td>
                        <textarea rows="5" style="background-color:yellow;color:green; width:466px;border-style:hidden;border-radius:20px;padding:15px" id="message"></textarea>
                    </td>
                    <td style="vertical-align:top"><input data-ng-click="sendGlobalMessage()" type="button" id="sendmessage" value="Send" /></td>
                    <td style="vertical-align:top">&nbsp;<input type="button" id="closeconn" value="Close Connection" /></td>
                </tr>
            </table>
            <br />
            <table style="width:900px;">
                <tr>
                    <td style="width:450px">
                        <div id="talks" class="wordwrap" style="background-color:red;color:white;padding-left:10px;margin:auto;overflow: auto;width:450px;height:380px;border-style:hidden;border-radius:20px">
                            <ul id="discussion"></ul>
                        </div>
                    </td>
                    <td style="vertical-align:top;width:450px">
                        <div id="connectedusers">
                            <ul><li id="firstli" style="color:white;font-style:italic;font-weight:bold;font-family:Verdana;" >Number of Connected users:</li>
                                <li><span>&nbsp;</span></li>
                            <li ng-repeat=" user in users ">
                                    <input type="text" style="width:180px" name="username" ng-model="user.Name" />
                                    <input type="text" style="visibility:hidden;width:100px" name="connectionid" ng-model="user.ConnectionId" />
                                    <button data-ng-click="sendPrivateMessage(user.ConnectionId,user.Name)">Send Private MSG</button>
                                </li>
                            </ul>
                        </div>
                    </td>
                </tr>
            </table>
        </div>
        <script src="~/Scripts/AngularCoreApp/appcore.js"></script>
        <br />


        <div id="dialog" title="Chat with a friend now:Type your nickname ?" style="display: none;margin-top: 20px">
            <input type="text" value="" style="width: 550px;" id="username" />
        </div>

    </div>


</body>

